<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Logs | Ginton Afnanin</title><meta name=keywords content><meta name=description content="My Journey Of Learning"><meta name=author content="Ginton Afnanin Khoir"><link rel=canonical href=https://opstekel.github.io/categories/logs/><meta name=google-site-verification content="7xkl7tm1-iJxieMKGetoXQpqJffAVKatOFgXg7ddX_Y"><link crossorigin=anonymous href=/assets/css/stylesheet.min.35cd0f65a15cafa92372b8313deef5960aae04b90ad722f2bbf509eb0468137e.css integrity="sha256-Nc0PZaFcr6kjcrgxPe71lgquBLkK1yLyu/UJ6wRoE34=" rel="preload stylesheet" as=style><link rel=icon href=https://opstekel.github.io/logo.png><link rel=icon type=image/png sizes=16x16 href=https://opstekel.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://opstekel.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://opstekel.github.io/apple-touch-icon.png><link rel=mask-icon href=https://opstekel.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.112.5"><link rel=alternate type=application/rss+xml href=https://opstekel.github.io/categories/logs/index.xml><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-182251419-3","auto"),ga("send","pageview"))</script><meta property="og:title" content="Logs"><meta property="og:description" content="My Journey Of Learning"><meta property="og:type" content="website"><meta property="og:url" content="https://opstekel.github.io/categories/logs/"><meta property="og:site_name" content="Ginton Afnanin Khoir"><meta name=twitter:card content="summary"><meta name=twitter:title content="Logs"><meta name=twitter:description content="My Journey Of Learning"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://opstekel.github.io accesskey=h title="Ginton Afnanin (Alt + H)">Ginton Afnanin</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://opstekel.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://opstekel.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://opstekel.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://opstekel.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://opstekel.github.io>Home</a>&nbsp;»&nbsp;<a href=https://opstekel.github.io/categories/>Categories</a></div><h1>Logs</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2>Membuat Alerting Grafana Dari Log Loki</h2></header><section class=entry-content><p>Prasyarat Sudah install promtail, loki, grafana. Link install-promtail-dan-loki Sudah install alertmanager. Link install-alertmanager Integrasi AlertManager dengan Loki Untuk konfigurasi loki lengkapnya dan install alert manager bisa merujuk pada link di atas.
Edit file konfigurasi loki.
nano /etc/loki/local-config.yaml #... server: http_listen_port: 3100 # Tambahkan line dibawah ini ruler: storage: type: local local: directory: /data_loki/rules rule_path: /tmp/rules/fake/ alertmanager_url: http://&lt;ip-alert-manager>:9093 ring: kvstore: store: inmemory enable_api: true #... Restart service loki.
systemctl restart loki.service systemctl status loki....</p></section><footer class=entry-footer>May 31, 2023&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Ginton Afnanin Khoir</footer><a class=entry-link aria-label="post link to Membuat Alerting Grafana Dari Log Loki" href=https://opstekel.github.io/posts/buat-alert-log-dari-loki/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Install Promtail dan Loki</h2></header><section class=entry-content><p>Topologi Penjelasan Promtail: Agen pengumpul log dari berbagai sumber seperti file teks, syslog, dan jurnal sistem kemudian mengirimkannya ke penyimpanan log yang disebut loki. Install promtail di setiap node atau vm yang ingin dipantau.
Loki: Penyimpanan log yang dirancang untuk menyimpan dan mengindeks log secara efisien. Loki menggunakan struktur penyimpanan berbasis waktu yang disebut “index” dan “chunk”. Log yang dikumpulkan oleh promtail dikirim ke loki untuk disimpan.
Grafana: berfungsi sebagai visualisasi jika ingin memonitoring jumlah log ataupun ingin menggunakan fitur grafana alert agar ketika ada log error maka akan mengirimkan notifikasi (optional)....</p></section><footer class=entry-footer>May 30, 2023&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Ginton Afnanin Khoir</footer><a class=entry-link aria-label="post link to Install Promtail dan Loki" href=https://opstekel.github.io/posts/grafana-loki/></a></article></main><footer class=footer><span>&copy; 2023 <a href=https://opstekel.github.io>Ginton Afnanin</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById("menu");menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>