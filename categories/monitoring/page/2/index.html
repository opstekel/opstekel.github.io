<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Monitoring | Ginton Afnanin</title><meta name=keywords content><meta name=description content="My Journey Of Learning"><meta name=author content="Ginton Afnanin Khoir"><link rel=canonical href=https://opstekel.github.io/categories/monitoring/><meta name=google-site-verification content="7xkl7tm1-iJxieMKGetoXQpqJffAVKatOFgXg7ddX_Y"><link crossorigin=anonymous href=/assets/css/stylesheet.min.35cd0f65a15cafa92372b8313deef5960aae04b90ad722f2bbf509eb0468137e.css integrity="sha256-Nc0PZaFcr6kjcrgxPe71lgquBLkK1yLyu/UJ6wRoE34=" rel="preload stylesheet" as=style><link rel=icon href=https://opstekel.github.io/logo.png><link rel=icon type=image/png sizes=16x16 href=https://opstekel.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://opstekel.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://opstekel.github.io/apple-touch-icon.png><link rel=mask-icon href=https://opstekel.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.112.5"><link rel=alternate type=application/rss+xml href=https://opstekel.github.io/categories/monitoring/index.xml><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-182251419-3","auto"),ga("send","pageview"))</script><meta property="og:title" content="Monitoring"><meta property="og:description" content="My Journey Of Learning"><meta property="og:type" content="website"><meta property="og:url" content="https://opstekel.github.io/categories/monitoring/"><meta property="og:site_name" content="Ginton Afnanin Khoir"><meta name=twitter:card content="summary"><meta name=twitter:title content="Monitoring"><meta name=twitter:description content="My Journey Of Learning"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://opstekel.github.io accesskey=h title="Ginton Afnanin (Alt + H)">Ginton Afnanin</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://opstekel.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://opstekel.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://opstekel.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://opstekel.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://opstekel.github.io>Home</a>&nbsp;»&nbsp;<a href=https://opstekel.github.io/categories/>Categories</a></div><h1>Monitoring</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2>Install Ping Exporter</h2></header><section class=entry-content><p>Topologi Pendahuluan Ping exporter adalah aplikasi yang digunakan untuk mengukur kualitas jaringan dan mengumpulkan statistik ping dari berbagai host atau perangkat. Ping exporter biasanya digunakan untuk melakukan monitoring konektifitas pada jaringan apakah terjadi ping loss (putus koneksi) ataupun untuk memonitor latency jaringan.
Install Ping Exporter Download package ping exporter di node ping exporter (172.18.251.12).
wget https://github.com/czerwonk/ping_exporter/releases/download/1.0.1/ping_exporter_1.0.1_linux_amd64.tar.gz tar xvf ping_exporter_1.0.1_linux_amd64.tar.gz cp ping_exporter /usr/local/bin/ Buat file konfigurasi ping exporter.
mkdir /etc/ping_exporter/config.yml #... targets: - 172....</p></section><footer class=entry-footer>May 29, 2023&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Ginton Afnanin Khoir</footer><a class=entry-link aria-label="post link to Install Ping Exporter" href=https://opstekel.github.io/posts/ping-exporter/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Mengirim Notifikasi Alert Grafana ke Slack</h2></header><section class=entry-content><p>Prasyarat Sudah terinstall prometheus dan grafana.
Mempunyai akun slack.
Baca juga:
Install Prometheus dan Grafana
Install Alertmanager
Setting Slack Klik workspace name.
Settings & administration -> Manage apps.
Search Incoming WebHooks.
Add to slack.
Pilih channel -> Add Incoming WebHooks integration.
Note:
channel disini hanya pilihan saja, nanti kita tetap bisa menentukan tujuan channel di slack menggunakan grafana.
Copy Webhook URL
Setting Grafana. Disini kita akan mencoba mengirim notifikasi alert ke beberapa channel di slack menggunakan 1 webhook url....</p></section><footer class=entry-footer>May 29, 2023&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Ginton Afnanin Khoir</footer><a class=entry-link aria-label="post link to Mengirim Notifikasi Alert Grafana ke Slack" href=https://opstekel.github.io/posts/send-alert-ke-slack/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Mengirim Notifikasi Alert Grafana ke Email</h2></header><section class=entry-content><p>Prasyarat Sudah terinstall prometheus dan grafana. Baca juga:
Install Prometheus dan Grafana
Install Alertmanager
Setting Contact Point Setting contact point di dashboard grafana. Email address yang di isi pada contact point merupakan email address tujuan.
Setting SMTP Tambahkan SMTP section pada konfigurasi file grafana.
nano /etc/grafana/grafana.ini #... # Setting di bawah section [smtp] enabled = true host = smtp.gmail.com:587 user = your-email@gmail.com password = kdnjfoctswrpyanx from_address = your-email@gmail.com from_name = ginton #....</p></section><footer class=entry-footer>May 28, 2023&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Ginton Afnanin Khoir</footer><a class=entry-link aria-label="post link to Mengirim Notifikasi Alert Grafana ke Email" href=https://opstekel.github.io/posts/send-alert-ke-email/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Mengirim Notifikasi dengan Screenshot Image Dashboard</h2></header><section class=entry-content><p>Pendahuluan Jika ingin notifikasi yang dikirim disertai dengan screenshot dari panel dashboard kita bisa mengaktifkannya dengan enable image renderer pada grafana. Perintah ini di jalankan di node grafana.
Enable Image Renderer Plugin Enable grafana image renderer plugin dengan menggunakan command.
grafana-cli plugins install grafana-image-renderer Tambahkan section dibawah ke dalam file konfigurasi grafana.
nano /etc/grafana/grafana.ini #... # Tambahkan line dibawah ini [unified_alerting.screenshots] capture = true #... Install dependencies untuk menjalankan fungsi image renderer....</p></section><footer class=entry-footer>May 27, 2023&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Ginton Afnanin Khoir</footer><a class=entry-link aria-label="post link to Mengirim Notifikasi dengan Screenshot Image Dashboard" href=https://opstekel.github.io/posts/enable-image-renderer/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Membuat Dashboard dan Mengirim Notifikasi ke Telegram</h2></header><section class=entry-content><p>Add Datasource Toggle Menu -> Administrations -> Data Sources -> Add new data source -> prometheus.
Tambahkan data source prometheus dengan IP node prometheus.
Create Dashboard Toggle Menu -> Dashboards -> Go To Folder -> Create Dashboard -> Add Visualization
Edit dashboard seperti gambar dibawah (total node yang aktif) lalu save.
Create Alert Membuat alert ketika ada node yang tidak aktif maka akan mengirim notifikasi ke telegram.
Step 1: Create alert pada panel dashboard....</p></section><footer class=entry-footer>May 26, 2023&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Ginton Afnanin Khoir</footer><a class=entry-link aria-label="post link to Membuat Dashboard dan Mengirim Notifikasi ke Telegram" href=https://opstekel.github.io/posts/membuat-dashboard-dan-alert/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://opstekel.github.io/categories/monitoring/>« Prev Page</a>
<a class=next href=https://opstekel.github.io/categories/monitoring/page/3/>Next Page »</a></nav></footer></main><footer class=footer><span>&copy; 2023 <a href=https://opstekel.github.io>Ginton Afnanin</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById("menu");menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>